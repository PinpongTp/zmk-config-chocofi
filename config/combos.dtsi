/*                KEY POSITIONS
  ╭────────────────────╮ ╭────────────────────╮
  │  1   2   3   4   5 │ │  6   7   8   9  10 │
  │ 13  14  15  16  17 │ │ 18  19  20  21  22 │
  │ 25  26  27  28  29 │ │ 30  31  32  33  34 │
  ╰───────╮ 35  36  37 │ │ 38  39  40 ╭───────╯
          ╰────────────╯ ╰────────────╯
  ╭────────────────────╮ ╭────────────────────╮
  │  Q   W   E   R  T  │ │  Y   U   I   O   P │
  │  A   S   D   F  G  │ │  H   J   K   L   ; │
  │  Z   X   C   V  B  │ │  N   M   ,   .   / │
  ╰───────╮ M1 gui spc │ │spc spc  M1 ╭───────╯
          ╰────────────╯ ╰────────────╯        */

compatible = "zmk,combos";

#define COMBO(NAME, BINDINGS, KEYPOS) \
  combo_##NAME { \
    timeout-ms = <50>; \
    bindings = <BINDINGS>; \
    key-positions = <KEYPOS>; \
  };

#define LAYCB(NAME, BINDINGS, KEYPOS, LAYERS) \
  combo_##NAME { \
    bindings = <BINDINGS>; \
    key-positions = <KEYPOS>; \
    layers = <LAYERS>; \
  };

/* layer */
COMBO(layer_sd,    &mo 2,    14 15)
COMBO(layer_fn,    &mo 6,    14 15 16)

/* keyboard */
COMBO(left_esc,    &kp ESC,   2  3)
COMBO(left_enter,  &kp RET,   2 15)
COMBO(left_tab,    &kp TAB,  26 27)
COMBO(left_bspc,   &kp BSPC,  3 16)
COMBO(right_enter, &kp RET,  20 21)
COMBO(right_bspc,  &kp BSPC,  8 19)

/* stickey */
COMBO(tab_shift,   &sk LSHFT, 13 15) // A D
COMBO(tab_gui,     &sk LGUI,  14 16) // S F
COMBO(tab_ctrl,    &sk LCTRL, 15 16) // D F
COMBO(tab_alt,     &sk LALT,  13 16) // A F
